<!doctype html><html><head><title>Commands &middot; build-tools</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content=build-tools><meta name=description content=desc><meta http-equiv=content-language content=en-us><meta name=generator content="Hugo 0.58.3"><link rel=icon href=favicon.ico><meta name=theme-color content=#000><meta name=viewport content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name=theme-color content=black><meta name=twitter:card content=summary_large_image><meta name=twitter:title content=build-tools><meta name=twitter:description content=desc><meta name=twitter:image content=https://buildtools.io/card.png><meta name=og:title content=build-tools><meta name=og:description content=desc><meta name=og:url content=https://buildtools.io/><meta name=og:image content=https://buildtools.io/card.png><meta property=og:type content=website><meta name=apple-mobile-web-app-capable content=yes><meta name=apple-mobile-web-app-status-bar-style content=black><link rel=stylesheet href=https://buildtools.io/css/index.css><link rel=apple-touch-icon href=https://buildtools.io/apple-touch-icon.png><link rel="shortcut icon" href=https://buildtools.io/favicon.ico type=image/x-icon></head><body><div class=Wrapper><div class=Container><div class=Header><a href=https://buildtools.io/><div class="Title center"><img alt="build-tools Logo" src=https://github.com/buildtool.png height=140>
<span class=text>build-tools</span>
<span class=subtext></span></div></a></div><div class=Content-wrapper><div class=Sidebar><div class=Menu><div class=item><a href=https://buildtools.io/>Home</a></div><div class=item><a href=https://buildtools.io/introduction/>Introduction</a></div><div class=item><a href=https://buildtools.io/installation/>Installation</a></div><div class=item><a href=https://buildtools.io/conventions/>Conventions</a></div><div class=item><a href=https://buildtools.io/quickstart/>Quickstart</a></div><div class=item><a href=https://buildtools.io/commands/>Commands</a></div><div class=item><a href=https://buildtools.io/ci/>Continuous Integration</a></div><div class=item><a href=https://buildtools.io/config/>Configuration files</a></div><div class=item><a href=https://buildtools.io/registry/>Registry</a></div><div class=item><a href=https://buildtools.io/environments/>Environments</a></div><div class=item><a href=https://buildtools.io/k8s/>Kubernetes</a></div><div class=item><a href=https://buildtools.io/contributing/>Contributing</a></div></div></div><div class=Content><div class=Page><h1>Commands</h1><h2 id=available-commands>Available commands</h2><h3 id=build>build</h3><p>Performs a <code>docker build</code>, using a <code>Dockerfile</code> to build the application and tags the resulting image. By following the conventions no additional flags are needed, but the following flags are available:</p><table><thead><tr><th align=left>Flag</th><th align=left>Description</th></tr></thead><tbody><tr><td align=left><code>--file &lt;path to Dockerfile&gt;</code></td><td align=left>Used to override the default <code>Dockerfile</code> location (which is <code>$PWD</code>)</td></tr><tr><td align=left><code>--skiplogin</code></td><td align=left>Disables login to docker registry (good for local testing)</td></tr><tr><td align=left><code>--nopull</code></td><td align=left>Disables pulling of remote images if they already exist (good for local testing)</td></tr><tr><td align=left><code>--build-arg key=value</code></td><td align=left>Additional Docker <a href=https://docs.docker.com/engine/reference/commandline/#set-build-time-variables---build-arg>build-arg</a></td></tr></tbody></table><div class=highlight><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>$ build --file docker/Dockerfile.build --skiplogin --build-arg <span style=color:#8be9fd;font-style:italic>AUTH_TOKEN</span><span style=color:#ff79c6>=</span>abc</code></pre></div><h3 id=push>push</h3><p>Performs a <code>docker push</code> of the image created by <code>build</code>.</p><p>By following the conventions no additional flags are needed, but the following flags are available:</p><table><thead><tr><th align=left>Flag</th><th align=left>Description</th></tr></thead><tbody><tr><td align=left><code>--file &lt;path to Dockerfile&gt;</code></td><td align=left>Used to override the default <code>Dockerfile</code> location (which is <code>$PWD</code>)</td></tr></tbody></table><div class=highlight><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>$ push --file docker/Dockerfile.build </code></pre></div><h3 id=deploy>deploy</h3><p>Deploys the built application to a Kubernetes cluster. Normal usage <code>deploy &lt;environment&gt;</code>, but additional flags can be used to override:</p><table><thead><tr><th align=left>Flag</th><th align=left>Description</th></tr></thead><tbody><tr><td align=left><code>--context</code></td><td align=left>Use a different context than the one found in configuration</td></tr><tr><td align=left><code>--namespace</code></td><td align=left>Use a different namespace than the one found in configuration</td></tr><tr><td align=left><code>--timeout</code></td><td align=left>Override the default deployment waiting time for completion (default 2 minutes). 0 means forever, all other values should contain a corresponding time unit (e.g. 1s, 2m, 3h)</td></tr></tbody></table><div class=highlight><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>$ deploy --namespace testing_namespace <span style=color:#8be9fd;font-style:italic>local</span> </code></pre></div><h3 id=service-setup>service-setup</h3><p>Setup a new local git repository and scaffolds the project.
Remote Git repository and CI pipeline will be created and configured based on the <code>.buildtools.yaml</code> settings.</p><p>Basic usage <code>service-setup &lt;name&gt;</code>, it&rsquo;s also possible to scaffold for a certain stack. Supported stacks:</p><ul><li><a href=https://golangci.com/>go</a></li><li><a href=https://www.scala-lang.org/>scala</a></li></ul><p>This will generate some basic project files for the different stacks, example</p><div class=highlight><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>$ service-setup -s go <span style=color:#8be9fd;font-style:italic>test</span>
$ tree <span style=color:#8be9fd;font-style:italic>test</span>
    *TODO*</code></pre></div><h3 id=kubecmd>kubecmd</h3><p>TODO</p><blockquote><p>Last updated by Peter Svensson on May 6, 2020.
<a href=https://github.com/buildtool/build-tools/edit/master/www/content/commands.md>Improve this page</a>.</p></blockquote></div><div class=Footer><p>Â© 2019 buildtool</p></div><script src=https://buildtools.io/js/index.js></script></div></div></div></body></html>